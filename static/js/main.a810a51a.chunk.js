(this.webpackJsonptudem=this.webpackJsonptudem||[]).push([[0],{104:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),l=t.n(c),o=(t(76),t(11)),i=t(147),s=t(146),u=t(149),m=t(148),f=t(150),d=t(151),p=t(64),g=t.n(p),v=t(63),b=t.n(v),h=t(65),E=t.n(h),y=(t(77),t(141)),x=(t(78),function(e){return r.a.createElement("div",{style:{display:"flex",borderTop:"1px solid black",marginTop:16}},r.a.createElement("div",{style:{textAlign:"initial",display:"flex",justifyContent:"space-around",padding:16}},r.a.createElement("img",{src:e.image,alt:"Foto de perfil",style:{height:90,width:90,borderRadius:8}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:32}},e.children)))}),w=t(137),S=function(e){return r.a.createElement("div",{style:{display:"flex",margin:4}},r.a.createElement(w.a,null,e.icon),r.a.createElement(y.a,{style:{marginLeft:8}},e.text))},j=function(e){var a=JSON.parse(localStorage.getItem("matchList"))||{},t=Object.keys(a);return console.log("matchList",a),r.a.createElement("div",{className:"Match-container"},r.a.createElement(y.a,null,"Match List"),t.map((function(e){return r.a.createElement(x,{image:a[e].image},r.a.createElement(S,{icon:"assignment_ind",text:a[e].name}),r.a.createElement(S,{icon:"chat",text:a[e].whatsapp}))})))},k=t(10),N=t.n(k),O=t(142),C=t(143),P=t(144),U=(t(26),function(e){var a=e.image,t=e.handleReject,c=e.handleLike;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{margin:8,borderRadius:16,display:"flex",flex:1,backgroundImage:"url(".concat(a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",flexDirection:"column",justifyContent:"flex-end"}},e.children),r.a.createElement("div",{style:{zIndex:1,marginTop:-42,width:"90%",display:"flex",justifyContent:"space-between",marginLeft:"5%",marginRight:"5%"}},r.a.createElement(O.a,{onClick:t,color:"secondary","aria-label":"Cancel"},r.a.createElement(C.a,null)),r.a.createElement(O.a,{onClick:c,color:"primary","aria-label":"favorite"},r.a.createElement(P.a,null))))}),L=function(e){var a=e.name,t=e.bio;return r.a.createElement("div",{className:"Find-text-container"},r.a.createElement(y.a,{className:"Find-text-style"},a,": ",t))},T=function(e){return r.a.createElement("div",{className:"Find-text-container"},r.a.createElement(y.a,{className:"Find-text-style",color:"primary"},r.a.createElement("span",{role:"img","aria-label":"Cone de Festa"},"\ud83c\udf89")," ","Parab\xe9ns, voc\xea conseguiu um match!"," ",r.a.createElement("span",{role:"img","aria-label":"Cone de Festa"},"\ud83c\udf89")," ","Acesse agora a aba de Matches e encontre o contato deste estudante para que voc\xeas possam juntos nunca parar de aprender!"))},A=function(e){return r.a.createElement("div",{style:{margin:8,borderRadius:16,padding:16,display:"flex",backgroundColor:"darkgrey",marginTop:32}},r.a.createElement(y.a,{color:"error"},"Preencha todas as informa\xe7\xf5es na aba de Perfil primeiro para come\xe7ar a usar o Tudem!"))},I=t(37),R=t.n(I),H=(t(83),t(61));R.a.initializeApp(H);var F=R.a.firestore(),W=function(){var e,a;return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(F.collection("users").get());case 2:return e=t.sent,a={},e.forEach((function(e){a[e.id]=e.data()})),console.log(a),t.abrupt("return",a);case 7:case"end":return t.stop()}}))},D=function(e,a){var t={};t[a]=!0,F.collection("likes").doc(e.gitHubUser).set(t,{merge:!0})},J=function(e){var a,t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(F.collection("likes").get());case 2:return a=n.sent,console.log("THE QUERY",a),t=a&&a.docs.filter((function(a){return a.id===e}))[0],n.abrupt("return",t.data());case 6:case"end":return n.stop()}}))},M=function(e){var a=Object(n.useState)(0),t=Object(o.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(),s=Object(o.a)(i,2),u=s[0],m=s[1],f=Object(n.useState)(),d=Object(o.a)(f,2),p=d[0],g=d[1],v=Object(n.useState)(),b=Object(o.a)(v,2),h=b[0],E=b[1],x=Object(n.useState)(!1),w=Object(o.a)(x,2),S=w[0],j=w[1],k=(JSON.parse(localStorage.getItem("userData"))||{}).gitHubUser,O=function(){var e;return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N.a.awrap(W());case 2:return e=a.sent,a.abrupt("return",Object.keys(e));case 4:case"end":return a.stop()}}))};Object(n.useEffect)((function(){!function(){var e;N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N.a.awrap(O());case 2:return e=a.sent,g(e),a.t0=E,a.next=7,N.a.awrap(W());case 7:a.t1=a.sent,(0,a.t0)(a.t1),m(e[0]);case 10:case"end":return a.stop()}}))}()}),[]);var C=function(){var e=c+1;l(e),m(p[e])},P=function(e,a){j(!0);var t=JSON.parse(localStorage.getItem("matchList"))||{};t[e]={name:h[e].name,whatsapp:h[e].whatsapp,image:h[e].image},localStorage.setItem("matchList",JSON.stringify(t)),function(e,a){var t={},n={};t[e.gitHubUser]=!0,n[a]=!0,F.collection("matchs").doc(a).set(t,{merge:!0}),F.collection("matchs").doc(e.gitHubUser).set(n,{merge:!0})}(h[e],a),navigator.vibrate([200,200,400,400,800,800,200,200]),setTimeout((function(){j(!1),C()}),3e3)};return r.a.createElement("div",{className:"Find-container"},r.a.createElement(y.a,null,"Encontre Estudantes"),k?h&&h[u]&&r.a.createElement(U,{image:h[u].image,handleReject:C,handleLike:function(){var e;return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return D(h[u],k),a.next=3,N.a.awrap(J(k));case 3:e=a.sent,e&&e[h[u].gitHubUser]?P(u,k):C();case 6:case"end":return a.stop()}}))}},S?r.a.createElement(T,null):r.a.createElement(L,{name:h[u].name,bio:h[u].bio})):r.a.createElement(A,null))},z=t(152),B=t(145),Q=(t(86),t(62)),_=t.n(Q),q=function(e){var a=JSON.parse(localStorage.getItem("userData"))||{},t=r.a.useState(a.gitHubUser||""),n=Object(o.a)(t,2),c=n[0],l=n[1],i=r.a.useState(a.name||""),s=Object(o.a)(i,2),u=s[0],m=s[1],f=r.a.useState(a.whatsapp||""),d=Object(o.a)(f,2),p=d[0],g=d[1],v=r.a.useState(a.bio||""),b=Object(o.a)(v,2),h=b[0],E=b[1],x=r.a.useState(a.image||"https://avatars2.githubusercontent.com/u/54108471?v=4"),w=Object(o.a)(x,2),S=w[0],j=w[1];return r.a.createElement("div",{className:"Profile-container"},r.a.createElement(y.a,null,"Perfil do Estudante"),r.a.createElement("div",{className:"Profile-info"},r.a.createElement("div",{className:"Profile-picture-wrapper"},r.a.createElement("img",{src:S,alt:"Foto de perfil",style:{height:140,width:140}})),r.a.createElement("form",{className:"Profile-flex-full",noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:"Profile-form-wrapper"},r.a.createElement(z.a,{className:"Profile-flex-full",id:"github-username",value:c,onChange:function(e){l(e.target.value)},label:"Usuario do GitHub"}),r.a.createElement(z.a,{value:u,onChange:function(e){m(e.target.value)},className:"Profile-flex-full",id:"name",label:"Nome"}),r.a.createElement(z.a,{value:p,onChange:function(e){g(e.target.value)},className:"Profile-flex-full",id:"whatsapp",label:"Whatsapp"})))),r.a.createElement("div",{className:"Profile-info"},r.a.createElement(z.a,{multiline:!0,rowsMax:"4",onChange:function(e){E(e.target.value)},value:h,className:"Profile-flex-full",id:"bio",label:"bio"})),r.a.createElement("div",{style:{display:"flex",flex:1,alignItems:"flex-end",justifyContent:"space-around"}},r.a.createElement(B.a,{onClick:function(){_.a.get("https://api.github.com/users/"+c).then((function(e){var a=e.data,t=a.name,n=a.bio,r=a.avatar_url;a.followers,a.public_repos;t&&m(t),n&&E(n),r&&j(r),console.log(e)})).catch((function(e){console.log(e)})).finally((function(){}))}},"Atualizar GitHub"),r.a.createElement(B.a,{onClick:function(){var e,a={gitHubUser:c,name:u,whatsapp:p,bio:h,image:S};e=a,F.collection("users").doc(e.gitHubUser).set(e,{merge:!0}),localStorage.setItem("userData",JSON.stringify(a))},color:"primary"},"Salvar")))},G=Object(s.a)({card:{flex:1,marginTop:"1%",display:"flex",marginBottom:"1%",flexDirection:"column",width:"100%",maxWidth:600},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),K=[r.a.createElement(j,null),r.a.createElement(M,null),r.a.createElement(q,null)];var V=function(){var e=G(),a=r.a.useState(1),t=Object(o.a)(a,2),n=t[0],c=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-body"},r.a.createElement(i.a,{className:e.card},r.a.createElement(m.a,{style:{flex:1,display:"flex",flexDirection:"column"}},K[n]),r.a.createElement(u.a,{style:{display:"flex"}},r.a.createElement(f.a,{value:n,onChange:function(e,a){c(a)},showLabels:!0,style:{flex:1}},r.a.createElement(d.a,{label:"Matches",icon:r.a.createElement(b.a,null)}),r.a.createElement(d.a,{label:"Estudantes",icon:r.a.createElement(g.a,null)}),r.a.createElement(d.a,{label:"Perfil",icon:r.a.createElement(E.a,null)}))))))},Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(V,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Tudem",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/Tudem","/service-worker.js");Y?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$(a,e)}))}}()},26:function(e,a,t){},61:function(e){e.exports=JSON.parse('{"apiKey":"AIzaSyDirMjRQSt0dkNCSCuMq4UTkaQv9M6-y80","authDomain":"tudem-acc4a.firebaseapp.com","projectId":"tudem-acc4a"}')},71:function(e,a,t){e.exports=t(104)},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},86:function(e,a,t){}},[[71,1,2]]]);
//# sourceMappingURL=main.a810a51a.chunk.js.map